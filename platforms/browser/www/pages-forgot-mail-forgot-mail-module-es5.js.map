{"version":3,"sources":["webpack:///src/app/pages/forgot-mail/forgot-mail.page.html","webpack:///src/app/pages/forgot-mail/forgot-mail-routing.module.ts","webpack:///src/app/pages/forgot-mail/forgot-mail.module.ts","webpack:///src/app/pages/forgot-mail/forgot-mail.page.ts"],"names":["routes","path","component","ForgotMailPageRoutingModule","imports","forChild","exports","ForgotMailPageModule","declarations","ForgotMailPage","router","apiService","alertController","ionicStorage","start","get","stringObj","worker","JSON","parse","workerId","id","message","create","header","subHeader","buttons","alert","present","form","value","password","presentAlert","confirmation","console","log","passReset","postEvent","subscribe","response","isValid","navigate","errorMessage","error","selector","template"],"mappings":"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","file":"pages-forgot-mail-forgot-mail-module-es5.js","sourcesContent":["export default \"<ion-content class=\\\"background-image ion-padding\\\" no-scroll>\\n    <ion-grid class=\\\"ion-no-padding\\\">\\n        <ion-row class=\\\"to-top\\\">\\n            <ion-col>\\n                <h2 class=\\\"ion-text-center\\\">\\n                    <strong>Reset Password</strong>\\n                </h2>\\n            </ion-col>\\n\\n            <ion-col class=\\\"ion-align-self-center\\\" size-md=\\\"6\\\" size-lg=\\\"5\\\" size-xs=\\\"12\\\">\\n\\n                <form class=\\\"ion-padding\\\" #myForm=\\\"ngForm\\\" (ngSubmit)=\\\"signInWithEmail(myForm)\\\">\\n                    <ion-item class=\\\"first-input\\\">\\n                        <ion-input ngModel name=\\\"password\\\" type=\\\"password\\\" placeholder=\\\"password\\\"></ion-input>\\n                    </ion-item>\\n                    <ion-item class=\\\"second-input\\\">\\n                        <ion-input ngModel name=\\\"confirmation\\\" type=\\\"password\\\" placeholder=\\\"confirmation\\\"></ion-input>\\n                    </ion-item>\\n                    <div>\\n                        <ion-button size-xs=\\\"8\\\" color=\\\"primary\\\" type=\\\"submit\\\" expand=\\\"block\\\">\\n                            Change Password\\n                        </ion-button>\\n                    </div>\\n                </form>\\n            </ion-col>\\n\\n        </ion-row>\\n    </ion-grid>\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ForgotMailPage } from './forgot-mail.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ForgotMailPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ForgotMailPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ForgotMailPageRoutingModule } from './forgot-mail-routing.module';\n\nimport { ForgotMailPage } from './forgot-mail.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ForgotMailPageRoutingModule\n  ],\n  declarations: [ForgotMailPage]\n})\nexport class ForgotMailPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AlertController } from '@ionic/angular';\nimport { ApiService } from '../../services/api.service';\nimport { Storage } from '@ionic/storage';\nimport { Workers } from '../../models/dto/Workers';\n\n@Component({\n  selector: 'app-forgot-mail',\n  templateUrl: './forgot-mail.page.html',\n})\nexport class ForgotMailPage implements OnInit {\n\n  constructor( private router: Router,\n               private apiService: ApiService,\n               private alertController: AlertController,\n               private ionicStorage: Storage) {\n                this.start();\n  }\n\n  worker: Workers;\n\n  workerId: number;\n\n  ngOnInit() {\n  }\n\n  async start() {\n    //console.log('session',sessionStorage.getItem(\"userId\"));\n    const stringObj = await this.ionicStorage.get(\"workerObject\");\n    this.worker = JSON.parse(stringObj);\n\n    this.workerId = this.worker.id;\n  }\n\n  async presentAlert( message: any ) {\n    const alert = await this.alertController.create({\n      header: 'Password Change',\n      subHeader: 'Jobs Exchange',\n      message: message,\n      buttons: ['OK']\n    });\n\n    await alert.present();\n\n  }\n\n  signInWithEmail( form: any ){\n    if ( form.value.password === '' ){\n      this.presentAlert(\n        `Debe ingresar contraseña nueva.`\n      );\n    } else if ( form.value.confirmation === '' ) {\n      this.presentAlert(\n        `Debe ingresar confirmacion de contraseña.`\n      );\n    }  else if ( form.value.password !== form.value.confirmation ) {\n      this.presentAlert(\n        `Las contraseñas deben coincidir.`\n      );\n    } else {\n      console.log('WorkerID ' + this.worker + ' workerId ' + this.workerId );\n      const passReset = {\n        'password': form.value.password,\n        'workerId': this.worker.id,\n      };\n      console.log('passReset', passReset);\n      this.apiService.postEvent(\n        passReset,\n        'changePassword'\n      )\n      .subscribe( (response: any) => {\n        if (response.isValid) {\n          this.presentAlert('Password Changed.');\n          this.router.navigate(['/home']);\n        } else {\n          this.presentAlert(response.errorMessage);\n        }\n      },\n      error => {\n        console.log('error en login', error);\n      });\n    }\n  }\n\n}\n"]}