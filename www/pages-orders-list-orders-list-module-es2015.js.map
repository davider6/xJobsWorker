{"version":3,"sources":["./src/app/pages/orders-list/orders-list.page.html","./src/app/pages/orders-list/orders-list-routing.module.ts","./src/app/pages/orders-list/orders-list.module.ts","./src/app/pages/orders-list/orders-list.page.scss","./src/app/pages/orders-list/orders-list.page.ts"],"names":[],"mappings":"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","file":"pages-orders-list-orders-list-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n    <ion-toolbar color=\\\"dark\\\">\\n        <ion-buttons slot=\\\"start\\\">\\n            <ion-back-button defaultHref=\\\"/\\\"></ion-back-button>\\n        </ion-buttons>\\n        <ion-title>\\n            Listado de Ordenes ({{status}})\\n        </ion-title>\\n    </ion-toolbar>\\n</ion-header>\\n\\n<ion-content class=\\\"ion-no-padding\\\">    \\n    <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"updateData($event)\\\" >\\n        <ion-refresher-content pullingIcon=\\\"arrow-dropdown\\\" pullingText=\\\"Pull to refresh\\\" refreshingSpinner=\\\"circles\\\" refreshingText=\\\"Refreshing...\\\" >\\n        </ion-refresher-content>\\n    </ion-refresher>\\n    <div *ngIf=\\\"!loaded\\\">\\n        <ion-list>\\n            <ion-item *ngFor=\\\"let i of [0,1,2,3,4,5,6,7,8]\\\">\\n                <ion-thumbnail slot=\\\"start\\\">\\n                    <ion-skeleton-text animated></ion-skeleton-text>\\n                </ion-thumbnail>\\n                <ion-label>\\n                    <h3>\\n                        <ion-skeleton-text animated style=\\\"width: 50%;\\\"></ion-skeleton-text>\\n                    </h3>\\n                    <p>\\n                        <ion-skeleton-text animated style=\\\"width: 80%;\\\"></ion-skeleton-text>\\n                    </p>\\n                    <p>\\n                        <ion-skeleton-text animated style=\\\"width: 60%;\\\"></ion-skeleton-text>\\n                    </p>\\n                </ion-label>\\n            </ion-item>\\n        </ion-list>\\n    </div>\\n    <ion-list style=\\\"background-color: #F59D8A !important;\\\">\\n        <ion-card *ngFor=\\\"let ord of orders\\\" class=\\\"ion-no-padding\\\" (click)=\\\"openDetails(ord)\\\">\\n            <ion-item style=\\\"background-color: #F5F5F5 !important;\\\">\\n                <ion-avatar slot=\\\"start\\\">\\n                    <img *ngIf=\\\" ord.profileImage && ord.profileImage !== '' \\\" [src]=\\\"ord.profileImage\\\" />\\n                    <img *ngIf=\\\" !ord.profileImage ||ord.profileImage === '' \\\" src=\\\"../../../assets/profiles/profile.jpg\\\" />\\n                </ion-avatar>\\n                <ion-label style=\\\"color: #515D73 !important\\\">\\n                    <h2><span style=\\\"color: #253659 !important; font-weight: bold;\\\">{{ord.occupationName}}</span></h2>\\n                    <p>{{ord.clientName}}</p>                    \\n                    </ion-label>\\n            </ion-item>\\n            <ion-card-content>\\n                {{ord.description.substr(0,150)}}                \\n            </ion-card-content>\\n            <img src=\\\"https://maps.googleapis.com/maps/api/staticmap?zoom=13&size=640x350&maptype=roadmap&markers=color:red%7C{{ord.latitude}},{{ord.longitude}}&key=AIzaSyDfI8fbeuGwtgTJxEMABzDwHZ8GTH11Tiw\\\" />\\n            <ion-card-header>\\n                <ion-card-subtitle>{{ord.address}}</ion-card-subtitle>\\n                <p>{{ ord.workDate | date: 'medium' }}</p>\\n            </ion-card-header>                                  \\n        </ion-card>\\n        <!-- <ion-item-sliding *ngFor=\\\"let ord of orders\\\">\\n            <ion-item class=\\\".ion-justify-content-start\\\" lines=\\\"none\\\" (click)=\\\"openDetails(ord)\\\">\\n                <ion-avatar>\\n                    <img src=\\\"{{ord.occupationImage}}\\\" class=\\\".ion-align-self-center\\\" />\\n                    <ion-grid>\\n                        <ion-row class=\\\"ion-text-center\\\">\\n                            <ion-col>\\n                                <ion-text color=\\\"dark\\\">\\n                                    <b><font size=\\\"3\\\">{{ord.occupationName}}</font></b>\\n                                </ion-text>\\n                            </ion-col>\\n                        </ion-row>\\n                    </ion-grid>\\n                </ion-avatar>\\n                <ion-label>\\n                    <ion-text color=\\\"dark\\\">\\n                        <b><font size=\\\"1\\\">Nombre del solicitante</font></b>\\n                    </ion-text>\\n                    <ion-text color=\\\"dark\\\">\\n                        <p>{{ ord.clientName}}</p>\\n                    </ion-text>\\n\\n                    <ion-text color=\\\"dark\\\">\\n                        <b><font size=\\\"1\\\">Descripción</font></b>\\n                    </ion-text>\\n                    <ion-text color=\\\"dark\\\">\\n                        <p>{{ord.description.substr(0,100)}}</p>\\n                    </ion-text>\\n\\n                    <ion-text color=\\\"dark\\\">\\n                        <b><font size=\\\"1\\\">Dirección</font></b>\\n                    </ion-text>\\n                    <ion-text color=\\\"dark\\\">\\n                        <p>{{ord.address}}</p>\\n                    </ion-text>\\n\\n                    <ion-text color=\\\"dark\\\">\\n                        <b><font size=\\\"1\\\">Fecha de la orden</font></b>\\n                    </ion-text>\\n                    <ion-text color=\\\"dark\\\">\\n                        <p>{{ ord.workDate | date: 'medium' }}</p>\\n                    </ion-text>\\n                </ion-label>\\n            </ion-item>\\n            <ion-item-options side=\\\"end\\\">\\n                <ion-item-option color=\\\"dark\\\" (click)=\\\"updateStateOfOrder(ord.orderId,'ACCEPTED')\\\">\\n                    <ion-icon  slot=\\\"top\\\" name=\\\"thumbs-up\\\"></ion-icon>\\n                    Aceptar\\n                </ion-item-option>\\n                <ion-item-option color=\\\"xjobs\\\" (click)=\\\"updateStateOfOrder(ord.orderId,'REJECTED')\\\">\\n                    <ion-icon  slot=\\\"top\\\" name=\\\"thumbs-down\\\"></ion-icon>\\n                    Rechazar\\n                </ion-item-option>\\n            </ion-item-options>\\n        </ion-item-sliding> -->\\n    </ion-list>\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { OrdersListPage } from './orders-list.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: OrdersListPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class OrdersListPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { OrdersListPageRoutingModule } from './orders-list-routing.module';\n\nimport { OrdersListPage } from './orders-list.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    OrdersListPageRoutingModule\n  ],\n  declarations: [OrdersListPage]\n})\nexport class OrdersListPageModule {}\n","export default \".icon {\\n  display: inline-block;\\n  font-size: 12px;\\n  vertical-align: middle;\\n}\\n\\n.text {\\n  font-size: 12px;\\n  display: inline-block;\\n  vertical-align: middle;\\n  color: darkblue;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9kYWx2YXJhZG8vZGVzYXJyb2xsby9lbmlhY2d0L2lvbmljL3hKb2JzL3hKb2JzV29ya2VyL3NyYy9hcHAvcGFnZXMvb3JkZXJzLWxpc3Qvb3JkZXJzLWxpc3QucGFnZS5zY3NzIiwic3JjL2FwcC9wYWdlcy9vcmRlcnMtbGlzdC9vcmRlcnMtbGlzdC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBdUJBO0VBQ0UscUJBQUE7RUFDQSxlQUFBO0VBQ0Esc0JBQUE7QUN0QkY7O0FEeUJBO0VBQ0UsZUFBQTtFQUNBLHFCQUFBO0VBQ0Esc0JBQUE7RUFDQSxlQUFBO0FDdEJGIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvb3JkZXJzLWxpc3Qvb3JkZXJzLWxpc3QucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gaW9uLWF2YXRhciB7XG4vLyAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbi8vICAgdG9wOiAzJTtcbi8vICAgcmlnaHQ6IDMlO1xuLy8gICB3aWR0aDogNzBweDtcbi8vICAgaGVpZ2h0OiA3MHB4O1xuLy8gICAvLyBtYXJnaW4tcmlnaHQ6IDIwcHg7XG4vLyAgIC8vIG1hcmdpbi10b3A6IC0zNXB4O1xuLy8gICBib3JkZXI6IHNvbGlkIDJweCAjRDk1QTJCO1xuLy8gfVxuXG4vLyBwIHtcbi8vICAgd2hpdGUtc3BhY2U6IG5vcm1hbCAhaW1wb3J0YW50O1xuLy8gICB0ZXh0LWFsaWduOiBqdXN0aWZ5O1xuLy8gICBmb250LXNpemU6IDEwcHg7XG4vLyAgIGxpbmUtaGVpZ2h0OiAxLjQ7XG4vLyB9XG4vLyBpb24taXRlbSB7XG4vLyAgIC0tYm9yZGVyLXJhZGl1czogMWVtO1xuLy8gICAtLWJvcmRlci13aWR0aDogMC4xZW0gIWltcG9ydGFudDtcbi8vICAgbWFyZ2luLWJvdHRvbTogMC4zZW07XG4vLyB9XG5cbi5pY29uIHtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICBmb250LXNpemU6IDEycHg7XG4gIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XG59XG5cbi50ZXh0IHtcbiAgZm9udC1zaXplOiAxMnB4O1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XG4gIGNvbG9yOiBkYXJrYmx1ZTtcbn1cbiIsIi5pY29uIHtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICBmb250LXNpemU6IDEycHg7XG4gIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XG59XG5cbi50ZXh0IHtcbiAgZm9udC1zaXplOiAxMnB4O1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XG4gIGNvbG9yOiBkYXJrYmx1ZTtcbn0iXX0= */\";","import { Component, OnInit } from \"@angular/core\";\nimport { Router, NavigationExtras } from \"@angular/router\";\nimport { WorkOrderHistoryDTO } from \"src/app/models/dto/WorkOrderHistoryDTO\";\nimport { Occupations } from \"src/app/models/bo/Occupations\";\nimport { ApiService } from \"src/app/services/api.service\";\nimport { RequestFields } from \"src/app/models/bo/request-fields\";\nimport {\n  AlertController,\n  ToastController,\n  LoadingController,\n} from \"@ionic/angular\";\n\n@Component({\n  selector: \"app-orders-list\",\n  templateUrl: \"./orders-list.page.html\",\n  styleUrls: [\"./orders-list.page.scss\"],\n})\nexport class OrdersListPage implements OnInit {\n  loadingSpin=null;\n  orders: WorkOrderHistoryDTO[] = [];\n  occupationsList: Occupations[];\n  loaded = false;\n  urlStr = \"/in-progress2/requested2\";\n  token: string = \"\";\n  status: string = \"\";\n  workerId: string = \"\";\n\n  constructor(\n    private apiService: ApiService,\n    private router: Router,\n    private alertCtrl: AlertController,\n    private toastController: ToastController,\n    public loadingController: LoadingController\n  ) {\n    if (this.router.getCurrentNavigation().extras.state) {\n      this.status = this.router.getCurrentNavigation().extras.state.status;\n      this.token = this.router.getCurrentNavigation().extras.state.token;\n      this.workerId = this.router.getCurrentNavigation().extras.state.workerId;\n\n      \n    } else {\n      console.log(\"no trae nada\", this.router.getCurrentNavigation().extras);\n    }\n  }\n\n  ionViewWillEnter() {\n    this.apiService\n        .getItemsByMethod(\"occupations\", \"\", null, this.token)\n        .subscribe(\n          (resp) => {\n            this.occupationsList = resp as Occupations[];\n            //console.log(\"si esta el token\", this.token);\n\n            this.loadOrders();\n          },\n          (error2) => {\n            console.error(JSON.stringify(error2));\n          }\n        );\n  }\n\n  ngOnInit() {}\n\n  sortFunction(a,b){  \n    var dateA = new Date(a.workDate).getTime();\n    var dateB = new Date(b.workDate).getTime();\n    return dateB > dateA ? 1 : -1;  \n  };\n\n  loadOrders() {\n    const reqField: RequestFields[] = [\n      { fieldName: \"workerId\", fieldValue: this.workerId },\n      { fieldName: \"status\", fieldValue: this.status },\n    ];\n    this.apiService\n      .getItemsByMethod(\n        \"workOrders\",\n        \"getOrdersByWorkerIdAndStatus\",\n        reqField,\n        this.token\n      )\n      .toPromise()\n      .then(\n        (resp: WorkOrderHistoryDTO[]) => {\n          // console.log(\"loadOrders()\",resp);\n\n          resp.sort(this.sortFunction);​\n\n          this.orders = resp;\n          this.orders.forEach((wo) => {\n            const occupationSelected = this.occupationsList.filter(\n              (occupation) => occupation.id === wo.occupationId\n            );\n            wo.occupation = occupationSelected[0][\"name\"];\n            wo.occupationAvatar = occupationSelected[0][\"categoryImage\"];\n\n            if (wo.status === \"NEW\") {\n              wo.statusColor = \"success\";\n              wo.status = \"NEW\";\n            }\n            wo.expiresIn = this.remainingTime(wo.workDate);\n          });\n          this.loaded = true;\n          // console.log(this.orders);\n          if(this.loadingSpin != null){\n            this.loadingSpin.dismiss();\n          }\n        },\n        (error2) => {\n          console.error(JSON.stringify(error2));\n        }\n      );\n  }\n\n  updateData(event) {\n    this.loaded = false;\n    this.loadOrders();\n    event.target.complete();\n  }\n\n  async openDetails(order) {\n    const navigationExtras: NavigationExtras = {\n      state: {\n        status,\n        order,\n        token: this.token,\n        workerId: this.workerId\n      },\n    };\n    this.router.navigate([\"orders-details\"], navigationExtras);\n  }\n\n  remainingTime(orderTIme: Date) {\n    const currentTime = new Date();\n    const newDate = new Date(orderTIme);\n    let diff = (newDate.getTime() - currentTime.getTime()) / 1000;\n\n    diff /= 60;\n\n    return 120 - Math.abs(Math.round(diff));\n  }\n\n  goLocation(longitude: number, latitude: number){\n  }\n\n  async presentToast(message) {\n    const toast = await this.toastController.create({\n      message: message,\n      duration: 2000,\n    });\n    toast.present();\n  }\n}\n"],"sourceRoot":"webpack:///"}