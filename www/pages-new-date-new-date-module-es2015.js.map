{"version":3,"sources":["./src/app/pages/new-date/new-date.page.html","./src/app/pages/new-date/new-date-routing.module.ts","./src/app/pages/new-date/new-date.module.ts","./src/app/pages/new-date/new-date.page.scss","./src/app/pages/new-date/new-date.page.ts"],"names":[],"mappings":"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","file":"pages-new-date-new-date-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n    <ion-toolbar color=\\\"dark\\\">\\n        <ion-buttons slot=\\\"start\\\">\\n            <ion-buttons slot=\\\"start\\\">\\n                <ion-back-button defaultHref=\\\"/\\\"></ion-back-button>\\n            </ion-buttons>\\n        </ion-buttons>\\n        <ion-title>Solicitud Cambio de Fecha</ion-title>\\n    </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n    <ion-grid>\\n        <ion-row>\\n            <ion-col>\\n                <ion-item class=\\\".ion-justify-content-start\\\" lines=\\\"none\\\">\\n                    <ion-avatar>\\n                        <img src=\\\"{{orderDetails.occupationImage}}\\\" class=\\\".ion-align-self-center\\\" />\\n                        <ion-grid>\\n                            <ion-row class=\\\"ion-text-center\\\">\\n                                <ion-col>\\n                                    <ion-text color=\\\"dark\\\">\\n                                        <b>\\n                                          <font size=\\\"2\\\">{{orderDetails.occupationName}}</font>\\n                                      </b>\\n                                    </ion-text>\\n                                </ion-col>\\n                            </ion-row>\\n                        </ion-grid>\\n                    </ion-avatar>\\n                    <ion-label>\\n                        <ion-text color=\\\"dark\\\">\\n                            <b>\\n                              <font size=\\\"1\\\">Nombre del solicitante</font>\\n                          </b>\\n                        </ion-text>\\n                        <ion-text color=\\\"dark\\\">\\n                            <p>{{ orderDetails.clientName}}</p>\\n                        </ion-text>\\n                        <ion-text color=\\\"dark\\\">\\n                            <b>\\n                              <font size=\\\"1\\\">Dirección</font>\\n                          </b>\\n                        </ion-text>\\n                        <ion-text color=\\\"dark\\\">\\n                            <p>{{orderDetails.address}}</p>\\n                        </ion-text>\\n\\n                        <ion-text color=\\\"dark\\\">\\n                            <b>\\n                              <font size=\\\"1\\\">Fecha de la orden</font>\\n                          </b>\\n                        </ion-text>\\n                        <ion-text color=\\\"dark\\\">\\n                            <p>{{ orderDetails.workDate | date:'medium' }}</p>\\n                        </ion-text>\\n                        <ion-text color=\\\"dark\\\">\\n                            <p>&nbsp;</p>\\n                        </ion-text>\\n                    </ion-label>\\n                </ion-item>\\n            </ion-col>\\n        </ion-row>\\n    </ion-grid>\\n    <ion-toolbar style=\\\"margin-top: -5px;\\\" *ngIf=\\\"isLoaded\\\">\\n        <div class=\\\"ion-padding\\\">\\n            <ion-button expand=\\\"block\\\" type=\\\"submit\\\" class=\\\"primary-btn\\\" (click)=\\\"proposeNewDate()\\\">\\n                <ion-icon name=\\\"calendar-number\\\"></ion-icon>Proponer nueva fecha\\n            </ion-button>\\n        </div>\\n        <div>\\n            <ion-card>\\n                <ion-card-content>\\n                    <ion-list lines=\\\"full\\\" class=\\\"ion-no-margin ion-no-padding\\\">\\n                        <ion-item>\\n                            <ion-label>Seleccione fecha:</ion-label>\\n                            <ion-datetime [(ngModel)]=\\\"proposedDate\\\" display-format=\\\"MMM DD YYYY\\\" picker-format=\\\"MM DD YYYY\\\" [min]=\\\"minDate\\\" [max]=\\\"maxDate\\\"></ion-datetime>\\n                        </ion-item>\\n                        <ion-item>\\n                            <ion-label>Seleccione Horario:</ion-label>\\n                            <ion-datetime [(ngModel)]=\\\"proposedTime\\\" display-format=\\\"HH mm\\\" picker-format=\\\"HH:mm\\\"></ion-datetime>\\n                        </ion-item>\\n                        <ion-item>\\n                            <ion-label position=\\\"floating\\\">Justifique el cambio de fecha:</ion-label>\\n                            <ion-textarea [(ngModel)]=\\\"description\\\" type=\\\"text\\\" inputmode=\\\"latin-name\\\" rows=\\\"4\\\"></ion-textarea>\\n                        </ion-item>\\n                    </ion-list>\\n                </ion-card-content>\\n            </ion-card>\\n        </div>\\n        <!-- <ion-fab vertical=\\\"bottom\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\">\\n            <div *ngIf=\\\"orderDetails.status == 'In Progress'\\\">\\n                <ion-fab-button (click)=\\\"setCloseOrder()\\\" color=\\\"xjobs\\\">\\n                    <ion-icon name=\\\"flag\\\"></ion-icon>\\n                </ion-fab-button>\\n            </div>\\n        </ion-fab> -->\\n    </ion-toolbar>\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { NewDatePage } from './new-date.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: NewDatePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class NewDatePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { NewDatePageRoutingModule } from './new-date-routing.module';\n\nimport { NewDatePage } from './new-date.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    NewDatePageRoutingModule\n  ],\n  declarations: [NewDatePage]\n})\nexport class NewDatePageModule {}\n","export default \"p {\\n  white-space: normal !important;\\n  text-align: justify;\\n  font-size: 10px;\\n  line-height: 1.4;\\n}\\n\\nion-item {\\n  --border-radius: 1em;\\n  --border-width: 0.1em !important;\\n  margin-bottom: 0.3em;\\n}\\n\\n.icon {\\n  display: inline-block;\\n  font-size: 12px;\\n  vertical-align: middle;\\n}\\n\\n.text {\\n  font-size: 12px;\\n  display: inline-block;\\n  vertical-align: middle;\\n  color: darkblue;\\n}\\n\\n#map_canvas {\\n  width: 100%;\\n  height: 45vh;\\n}\\n\\nion-avatar {\\n  width: 90px;\\n  height: 90px;\\n  margin-left: 10px;\\n  margin-right: 30px;\\n  margin-top: -35px;\\n  border: solid 3px #D95A2B;\\n}\\n\\n.gallery {\\n  width: 100%;\\n  height: 48vh;\\n}\\n\\nion-card {\\n  display: flex;\\n  flex-direction: column;\\n  margin: 0 !important;\\n  width: 500px;\\n}\\n\\nion-content ion-card {\\n  width: 100%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9kYWx2YXJhZG8vZGVzYXJyb2xsby9lbmlhY2d0L2lvbmljL3hKb2JzL3hKb2JzV29ya2VyL3NyYy9hcHAvcGFnZXMvbmV3LWRhdGUvbmV3LWRhdGUucGFnZS5zY3NzIiwic3JjL2FwcC9wYWdlcy9uZXctZGF0ZS9uZXctZGF0ZS5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSw4QkFBQTtFQUNBLG1CQUFBO0VBQ0EsZUFBQTtFQUNBLGdCQUFBO0FDQ0o7O0FERUE7RUFDSSxvQkFBQTtFQUNBLGdDQUFBO0VBQ0Esb0JBQUE7QUNDSjs7QURFQTtFQUNJLHFCQUFBO0VBQ0EsZUFBQTtFQUNBLHNCQUFBO0FDQ0o7O0FERUE7RUFDSSxlQUFBO0VBQ0EscUJBQUE7RUFDQSxzQkFBQTtFQUNBLGVBQUE7QUNDSjs7QURFQTtFQUNJLFdBQUE7RUFDQSxZQUFBO0FDQ0o7O0FERUE7RUFDSSxXQUFBO0VBQ0EsWUFBQTtFQUNBLGlCQUFBO0VBQ0Esa0JBQUE7RUFDQSxpQkFBQTtFQUNBLHlCQUFBO0FDQ0o7O0FERUE7RUFDSSxXQUFBO0VBQ0EsWUFBQTtBQ0NKOztBREVBO0VBQ0ksYUFBQTtFQUNBLHNCQUFBO0VBQ0Esb0JBQUE7RUFDQSxZQUFBO0FDQ0o7O0FERUE7RUFDSSxXQUFBO0FDQ0oiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9uZXctZGF0ZS9uZXctZGF0ZS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJwIHtcbiAgICB3aGl0ZS1zcGFjZTogbm9ybWFsICFpbXBvcnRhbnQ7XG4gICAgdGV4dC1hbGlnbjoganVzdGlmeTtcbiAgICBmb250LXNpemU6IDEwcHg7XG4gICAgbGluZS1oZWlnaHQ6IDEuNDtcbn1cblxuaW9uLWl0ZW0ge1xuICAgIC0tYm9yZGVyLXJhZGl1czogMWVtO1xuICAgIC0tYm9yZGVyLXdpZHRoOiAwLjFlbSAhaW1wb3J0YW50O1xuICAgIG1hcmdpbi1ib3R0b206IDAuM2VtO1xufVxuXG4uaWNvbiB7XG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xufVxuXG4udGV4dCB7XG4gICAgZm9udC1zaXplOiAxMnB4O1xuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xuICAgIGNvbG9yOiBkYXJrYmx1ZTtcbn1cblxuI21hcF9jYW52YXMge1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGhlaWdodDogNDV2aDtcbn1cblxuaW9uLWF2YXRhciB7XG4gICAgd2lkdGg6IDkwcHg7XG4gICAgaGVpZ2h0OiA5MHB4O1xuICAgIG1hcmdpbi1sZWZ0OiAxMHB4O1xuICAgIG1hcmdpbi1yaWdodDogMzBweDtcbiAgICBtYXJnaW4tdG9wOiAtMzVweDtcbiAgICBib3JkZXI6IHNvbGlkIDNweCAjRDk1QTJCO1xufVxuXG4uZ2FsbGVyeSB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgaGVpZ2h0OiA0OHZoO1xufVxuXG5pb24tY2FyZCB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgIG1hcmdpbjogMCAhaW1wb3J0YW50O1xuICAgIHdpZHRoOiA1MDBweDtcbn1cblxuaW9uLWNvbnRlbnQgaW9uLWNhcmQge1xuICAgIHdpZHRoOiAxMDAlO1xufSIsInAge1xuICB3aGl0ZS1zcGFjZTogbm9ybWFsICFpbXBvcnRhbnQ7XG4gIHRleHQtYWxpZ246IGp1c3RpZnk7XG4gIGZvbnQtc2l6ZTogMTBweDtcbiAgbGluZS1oZWlnaHQ6IDEuNDtcbn1cblxuaW9uLWl0ZW0ge1xuICAtLWJvcmRlci1yYWRpdXM6IDFlbTtcbiAgLS1ib3JkZXItd2lkdGg6IDAuMWVtICFpbXBvcnRhbnQ7XG4gIG1hcmdpbi1ib3R0b206IDAuM2VtO1xufVxuXG4uaWNvbiB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgZm9udC1zaXplOiAxMnB4O1xuICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xufVxuXG4udGV4dCB7XG4gIGZvbnQtc2l6ZTogMTJweDtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xuICBjb2xvcjogZGFya2JsdWU7XG59XG5cbiNtYXBfY2FudmFzIHtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogNDV2aDtcbn1cblxuaW9uLWF2YXRhciB7XG4gIHdpZHRoOiA5MHB4O1xuICBoZWlnaHQ6IDkwcHg7XG4gIG1hcmdpbi1sZWZ0OiAxMHB4O1xuICBtYXJnaW4tcmlnaHQ6IDMwcHg7XG4gIG1hcmdpbi10b3A6IC0zNXB4O1xuICBib3JkZXI6IHNvbGlkIDNweCAjRDk1QTJCO1xufVxuXG4uZ2FsbGVyeSB7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDQ4dmg7XG59XG5cbmlvbi1jYXJkIHtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgbWFyZ2luOiAwICFpbXBvcnRhbnQ7XG4gIHdpZHRoOiA1MDBweDtcbn1cblxuaW9uLWNvbnRlbnQgaW9uLWNhcmQge1xuICB3aWR0aDogMTAwJTtcbn0iXX0= */\";","import { Component, OnInit } from '@angular/core';\nimport { ApiService } from '../../services/api.service';\nimport { Router } from '@angular/router';\nimport { Platform, AlertController, NavController, LoadingController } from '@ionic/angular';\nimport { WorkOrderHistoryDTO } from '../../models/dto/WorkOrderHistoryDTO';\nimport { DatePipe } from '@angular/common';\nimport { RequestFields } from '../../models/bo/request-fields';\n\n@Component({\n  selector: 'app-new-date',\n  templateUrl: './new-date.page.html',\n  styleUrls: ['./new-date.page.scss'],\n})\nexport class NewDatePage implements OnInit {\n  \n  loadingSpin=null;\n  orderDetails: WorkOrderHistoryDTO;\n  token: string;\n  workerId: string;\n  isTemp: string = \"false\";\n  ubicacion: boolean = false;\n  proposedDate: string;\n  proposedTime: string;\n  description: string;\n  minDate: string;\n  maxDate: string;\n  isLoaded = false;\n  isPublicOrder = false;\n\n  constructor(private apiService: ApiService,\n    private router: Router,\n    private plt: Platform,\n    private alertController: AlertController,\n    private nav: NavController,\n    private loadingController: LoadingController,\n    private alertCtrl: AlertController,\n    private datePipe: DatePipe\n    ) { \n      this.isLoaded = true;\n      this.reset();\n      if (this.router.getCurrentNavigation().extras.state) {\n        this.orderDetails = this.router.getCurrentNavigation().extras.state.order;\n        this.token = this.router.getCurrentNavigation().extras.state.token;\n        this.workerId = this.router.getCurrentNavigation().extras.state.workerId;\n        if(this.orderDetails.publicWorksId && this.orderDetails.publicWorksId > 0){\n          this.isPublicOrder = true;\n        }\n        if (this.orderDetails.tempOrderId) {\n          this.isTemp = \"true\";\n        }\n        if (this.orderDetails.latitude && this.orderDetails.longitude) {\n          this.ubicacion = true;\n        }\n      }\n    }\n\n  ngOnInit() {\n  }\n\n  reset() {\n    let tmpDate = new Date();\n    tmpDate = new Date(tmpDate.getTime() + (1000 * 60 * 60 * 24));\n    this.minDate = this.datePipe.transform(tmpDate, \"yyyy-MM-dd\");\n    tmpDate = new Date(tmpDate.getTime() + (60 * (1000 * 60 * 60 * 24)));\n    this.maxDate = this.datePipe.transform(tmpDate, \"yyyy-MM-dd\");\n    this.isLoaded = true;\n  }\n\n  proposeNewDate() {\n    if (!this.proposedDate) {\n      this.presentAlert(\"No ha ingresado fecha.\", false);\n    } else if (!this.proposedTime) {\n      this.presentAlert(\"No ha ingresado horario.\", false);\n    } else if (!this.description) {\n      this.presentAlert(\"No ha ingresado comentario.\", false);\n    } else {\n      \n      console.log('proposedDate '+ this.proposedDate + ' proposedTime ' + this.proposedTime.substr(11,5));\n      this.orderStartAsync();\n    }\n  }\n \n  async orderStartAsync(){\n    const dateFormatted  = this.formatDate(this.proposedDate);\n    const reqField: RequestFields[] = [\n      { fieldName: \"workOrderId\", fieldValue: this.orderDetails.orderId + \"\" },\n      { fieldName: \"workerId\", fieldValue: this.workerId },\n      { fieldName: \"status\", fieldValue: 'CHANGE_DATE' },\n      { fieldName: \"isPublicOrder\", fieldValue: this.isPublicOrder+\"\" },\n      { fieldName: \"publicOrderId\", fieldValue: this.orderDetails.publicWorksId+\"\" },\n      { fieldName: \"date\", fieldValue: dateFormatted+\"\" },\n      { fieldName: \"time\", fieldValue: dateFormatted+\"\" },\n      { fieldName: \"observation\", fieldValue: this.description+\"\" },\n    ];\n    console.log('Request ' + JSON.stringify(reqField));\n    this.processOrder(reqField);\n   \n  }\n\n  async presentAlert(message: any, back: boolean) {\n    const alert = await this.alertController.create({\n      header: \"Job Exchange\",\n      subHeader: \"Solicitud de cambio de fecha enviado\",\n      message,\n      buttons: [\"OK\"],\n    });\n\n    await alert.present();\n\n    if (back) {\n      this.nav.navigateForward(\"/home\");\n    }\n  }\n\n  formatDate(date) {\n    var d = new Date(date);\n    let month = '' + (d.getMonth() + 1);\n    let day = '' + d.getDate();\n    let year = d.getFullYear();\n    let hours = d.getHours().toString();\n    let minute = d.getMinutes().toString();\n    let seconds = d.getSeconds().toString();\n    if (month.length < 2) {\n      month = '0' + month;\n    }\n    if (day.length < 2) {\n      day = '0' + day;\n    }\n    if (hours.length < 2) {\n      hours = '0' + hours;\n    }\n    if (minute.length < 2) {\n      minute = '0' + minute;\n    }\n    if (seconds.length < 2) {\n      seconds = '0' + seconds;\n    }\n    return year+\"-\"+month+\"-\"+day+\" \"+hours+\":\"+minute+\":\"+seconds;\n  }\n\nasync processOrder(reqField) {\n  this.loadingSpin = await this.loadingController.create({\n   message: \"Validando el usuario...\",\n });\n await this.loadingSpin.present();\n\n//  console.log('reqField',reqField);\n\n let mensaje = \"\";\n this.apiService\n   .putItemsByMethod(\n     \"woAssigned\",\n     \"acceptOrRejectOrders\",\n     reqField,\n     this.token\n   )\n   .toPromise()\n   .then( async (result) => {\n     console.log('result',result);\n     if (result === -1) {\n      mensaje = \"Alguien más acepto esta orden con anterioridad.\";\n     } else if (result === 1) {\n      mensaje = \"Orden actualizada exitosamente.\";\n     }\n\n     if(this.loadingSpin != null){\n      this.loadingSpin.dismiss();\n      }\n\n\n     console.log(mensaje);\n\n     const alert = await this.alertCtrl.create({\n      header: \"Job Exchange\",\n      subHeader: \"Solicitud de cambio de fecha enviado\",\n      message: 'cambio de fecha de orden registrado',\n      buttons: [\n        {\n          text: \"OK\",\n          role: \"cancel\",\n          cssClass: \"secondary\",\n          handler: () => {\n            console.log(\"Confirm OK\");\n          },\n        },\n      ],\n    });\n  \n    await alert.present();\n    this.router.navigate(['/home']);\n\n   })\n   .catch((e) => {\n     console.log(\"error,\", e);\n     if(this.loadingSpin != null){\n      this.loadingSpin.dismiss();\n      }\n  });\n\n   \n}\n\n}\n"],"sourceRoot":"webpack:///"}