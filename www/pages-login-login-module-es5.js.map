{"version":3,"sources":["webpack:///src/app/pages/login/login.page.html","webpack:///src/app/pages/login/login-routing.module.ts","webpack:///src/app/pages/login/login.module.ts","webpack:///src/app/pages/login/login.page.scss","webpack:///src/app/pages/login/login.page.ts"],"names":["routes","path","component","LoginPageRoutingModule","entryComponents","imports","forChild","exports","LoginPageModule","declarations","LoginPage","afAuth","router","authService","fb","googlePlus","platform","apiService","alertController","actionSheetController","ionicStorage","popoverController","pushService","GOOGLE","FACEBOOK","EMAIL","deviceId","initialConfiguration","registry","cleanStorage","login","then","res","signInWithCredential","GoogleAuthProvider","credential","idToken","user","externalExists","uid","subscribe","resp","cargarUsuario","displayName","email","photoURL","presentAlert","auth","postEvent","set","token","clientId","getEvent","usr","respWorker","JSON","stringify","navigate","err","console","log","error","is","facebookCredential","FacebookAuthProvider","authResponse","accessToken","signInWithPopup","message","create","header","subHeader","buttons","alert","present","form","value","password","internalExists","passwordReset","cssClass","text","role","icon","handler","signInWithFacebook","signInWithGoogle","actionSheet","ev","event","translucent","popover","selector","template"],"mappings":"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","file":"pages-login-login-module-es5.js","sourcesContent":["export default \"<ion-content class=\\\"background-image ion-padding\\\" no-scroll overflow-scroll=\\\"false\\\">\\n    <ion-grid class=\\\"ion-no-padding\\\">\\n        <ion-row class=\\\"to-top\\\">\\n            <ion-col>\\n                <h2 class=\\\"ion-text-center\\\">\\n                    <span class=\\\"primary_title\\\">Benvenido a XJobs</span>\\n                </h2>\\n            </ion-col>\\n\\n            <ion-col class=\\\"ion-align-self-center\\\" size-md=\\\"6\\\" size-lg=\\\"5\\\" size-xs=\\\"12\\\">\\n\\n                <form class=\\\"ion-padding\\\" #myForm=\\\"ngForm\\\" (ngSubmit)=\\\"signInWithEmail(myForm)\\\">\\n                    <ion-item class=\\\"first-input\\\">\\n                        <ion-input ngModel name=\\\"email\\\" type=\\\"email\\\" placeholder=\\\"Correo electrónico\\\"></ion-input>\\n                    </ion-item>\\n                    <ion-item class=\\\"second-input\\\">\\n                        <ion-input ngModel name=\\\"password\\\" type=\\\"password\\\" placeholder=\\\"Contraseña\\\"></ion-input>\\n                    </ion-item>\\n                    <div>\\n                        <ion-col class=\\\"ion-text-center\\\" size-md=\\\"12\\\" size-sm=\\\"12\\\" size-lg=\\\"12\\\" size-xs=\\\"12\\\">\\n                            <p>\\n                                <ion-text style=\\\"color: #fff; float: left;\\\">\\n                                    <span (click)=\\\"presentActionSheet()\\\">\\n                                        <strong>Registrate aquí</strong>\\n                                    </span>\\n                                </ion-text>\\n                                <ion-text style=\\\"color: #fff; float: right;\\\">\\n                                    <strong (click)=\\\"forgotPasswordMail($event)\\\">\\n                                  Olvid&eacute; mi clave\\n                                    </strong>\\n                                </ion-text>\\n                            </p>\\n                        </ion-col>    \\n                    </div>\\n                    <br><br><br>\\n                    <div>\\n                        <ion-button size-xs=\\\"8\\\" class=\\\"primary-btn\\\" type=\\\"submit\\\" expand=\\\"block\\\">\\n                            Iniciar Sesión\\n                        </ion-button>\\n                    </div>\\n                </form>\\n            </ion-col>\\n\\n            <ion-col size=\\\"12\\\">\\n                <div class=\\\"ion-text-center\\\">\\n                    <ion-text style=\\\"color: #fff;\\\">                        \\n                            <strong>o inicia sesión con</strong>\\n                    </ion-text>\\n                </div>\\n                <div class=\\\"ion-padding ion-text-center\\\">\\n                    <ion-button (click)=\\\"signInWithGoogle()\\\" class=\\\"secondary-btn icon-only\\\" fill=\\\"outline\\\">\\n                        <ion-icon slot=\\\"icon-only\\\" color=\\\"google\\\" name=\\\"logo-google\\\"></ion-icon>\\n                    </ion-button>\\n                    <ion-button (click)=\\\"signInWithFacebook()\\\" class=\\\"secondary-btn\\\" fill=\\\"outline\\\">\\n                        <ion-icon slot=\\\"icon-only\\\" color=\\\"facebook\\\" name=\\\"logo-facebook\\\"></ion-icon>\\n                    </ion-button>\\n\\n                </div>\\n            </ion-col>\\n            <ion-col>\\n                \\n            </ion-col>\\n\\n            <!-- <div *ngIf=\\\"invalidUser\\\" class=\\\"ion-padding\\\">\\n                <ion-item>\\n                    <ion-label color=\\\"danger\\\" class=\\\"ion-text-wrap\\\">\\n                        Correo o contraseña inválidos\\n                    </ion-label>\\n                </ion-item>\\n            </div> -->\\n        </ion-row>\\n    </ion-grid>\\n\\n    <!-- <ion-row class=\\\"to-button ion-text-center\\\" style=\\\"width:100%;\\\">\\n        <ion-col size-md=\\\"12\\\" size-sm=\\\"12\\\" size-lg=\\\"12\\\" size-xs=\\\"12\\\">\\n            <p>\\n                <strong>\\n              You don't have an account?\\n                </strong>\\n                <span (click)=\\\"presentActionSheet()\\\">\\n                    Sign Up\\n                </span>\\n            </p>\\n        </ion-col>\\n        <ion-col size-md=\\\"12\\\" size-sm=\\\"12\\\" size-lg=\\\"12\\\" size-xs=\\\"12\\\">\\n            <p>\\n                <strong (click)=\\\"forgotPasswordMail()\\\">\\n              Forgot password?\\n                </strong>\\n            </p>\\n        </ion-col>\\n    </ion-row> -->\\n\\n    <!-- <ion-menu side=\\\"end\\\" type=\\\"push\\\" contentId=\\\"main\\\">\\n        <ion-content class=\\\"main-menu-padding\\\">\\n            <ion-avatar *ngIf=\\\"worker\\\" class=\\\"image-center\\\">\\n                <img *ngIf=\\\"worker && worker.profileImage\\\" [src]=\\\"worker.profileImage\\\" />\\n                <img *ngIf=\\\"!worker || !worker.profileImage\\\" src=\\\"../../../assets/welcome/logoWorker.jpg\\\" />\\n            </ion-avatar>\\n            <ion-grid fixed *ngIf=\\\"worker\\\">\\n                <ion-row class=\\\"ion-text-center\\\">\\n                    <ion-col size=\\\"12\\\">\\n                        <h2> {{ worker.fullName }} </h2>\\n                        <span>Aquí alguna información importante</span>\\n                    </ion-col>\\n                </ion-row>\\n            </ion-grid>\\n\\n            <br>\\n\\n            <ion-list *ngIf=\\\"worker\\\">\\n                <ion-item>\\n                    <ion-icon slot=\\\"start\\\" name=\\\"call\\\" color=\\\"success\\\"></ion-icon>\\n                    <ion-label>\\n                        {{ worker.telephoneNumber }}\\n                    </ion-label>\\n                </ion-item>\\n                <ion-item>\\n                    <ion-icon slot=\\\"start\\\" name=\\\"pin\\\" color=\\\"danger\\\"></ion-icon>\\n                    <ion-label>\\n                        {{ worker.zipCode }}\\n                    </ion-label>\\n                </ion-item>\\n                <ion-item>\\n                    <ion-icon slot=\\\"start\\\" name=\\\"mail\\\" color=\\\"dark\\\"></ion-icon>\\n                    <ion-label>\\n                        {{ worker.email }}\\n                    </ion-label>\\n                </ion-item>\\n            </ion-list>\\n            <br>\\n\\n            <ion-grid fixed>\\n                <ion-row class=\\\"ion-text-center\\\">\\n                    <ion-col size=\\\"12\\\">\\n                        <ion-button (click)=\\\"signOut()\\\" expand=\\\"block\\\" color=\\\"danger\\\">\\n                            Logout\\n                        </ion-button>\\n                    </ion-col>\\n                </ion-row>\\n            </ion-grid> -->\\n\\n\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { LoginPage } from './login.page';\nimport { PopemailComponent } from '../../components/popemail/popemail.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LoginPage\n  }\n];\n\n@NgModule({\n  entryComponents: [\n    PopemailComponent\n  ],\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class LoginPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { LoginPageRoutingModule } from './login-routing.module';\nimport { SharedModule } from 'src/app/components/shared.module';\n\nimport { LoginPage } from './login.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    SharedModule,\n    LoginPageRoutingModule\n  ],\n  declarations: [LoginPage]\n})\nexport class LoginPageModule {}\n","export default \":host .background-image {\\n  --background: url('login-background.jpg') no-repeat 100% 100%;\\n}\\n\\n.first-input {\\n  border-radius: 10px 10px 0 0;\\n}\\n\\n.second-input {\\n  border-radius: 0 0 10px 10px;\\n}\\n\\n.to-button {\\n  position: absolute;\\n  bottom: 1%;\\n  margin-bottom: 10px;\\n}\\n\\n.to-button p {\\n  color: #dedede;\\n  font-size: 18px;\\n  margin-bottom: 0;\\n  margin-left: -15px;\\n}\\n\\n.to-button p span {\\n  color: #478FFC;\\n}\\n\\n.to-top {\\n  position: absolute;\\n  top: 30%;\\n}\\n\\nh2 {\\n  color: white;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9kYWx2YXJhZG8vZGVzYXJyb2xsby9lbmlhY2d0L2lvbmljL3hKb2JzL3hKb2JzV29ya2VyL3NyYy9hcHAvcGFnZXMvbG9naW4vbG9naW4ucGFnZS5zY3NzIiwic3JjL2FwcC9wYWdlcy9sb2dpbi9sb2dpbi5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0k7RUFDSSw2REFBQTtBQ0FSOztBRElBO0VBQ0ksNEJBQUE7QUNESjs7QURJQTtFQUNJLDRCQUFBO0FDREo7O0FESUE7RUFDSSxrQkFBQTtFQUNBLFVBQUE7RUFDQSxtQkFBQTtBQ0RKOztBREVJO0VBQ0ksY0FBQTtFQUNBLGVBQUE7RUFDQSxnQkFBQTtFQUNBLGtCQUFBO0FDQVI7O0FEQ1E7RUFDSSxjQUFBO0FDQ1o7O0FESUE7RUFDSSxrQkFBQTtFQUNBLFFBQUE7QUNESjs7QURJQTtFQUNJLFlBQUE7QUNESiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2xvZ2luL2xvZ2luLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIjpob3N0IHtcbiAgICAuYmFja2dyb3VuZC1pbWFnZSB7XG4gICAgICAgIC0tYmFja2dyb3VuZDogdXJsKCcuLi8uLi8uLi9hc3NldHMvaW1nL2xvZ2luLWJhY2tncm91bmQuanBnJykgbm8tcmVwZWF0IDEwMCUgMTAwJTtcbiAgICB9XG59XG5cbi5maXJzdC1pbnB1dCB7XG4gICAgYm9yZGVyLXJhZGl1czogMTBweCAxMHB4IDAgMDtcbn1cblxuLnNlY29uZC1pbnB1dCB7XG4gICAgYm9yZGVyLXJhZGl1czogMCAwIDEwcHggMTBweDtcbn1cblxuLnRvLWJ1dHRvbiB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIGJvdHRvbTogMSU7XG4gICAgbWFyZ2luLWJvdHRvbTogMTBweDtcbiAgICBwIHtcbiAgICAgICAgY29sb3I6ICNkZWRlZGU7XG4gICAgICAgIGZvbnQtc2l6ZTogMThweDtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogMDtcbiAgICAgICAgbWFyZ2luLWxlZnQ6IC0xNXB4O1xuICAgICAgICBzcGFuIHtcbiAgICAgICAgICAgIGNvbG9yOiAjNDc4RkZDO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4udG8tdG9wIHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgdG9wOiAzMCU7XG59XG5cbmgyIHtcbiAgICBjb2xvcjogd2hpdGU7XG59IiwiOmhvc3QgLmJhY2tncm91bmQtaW1hZ2Uge1xuICAtLWJhY2tncm91bmQ6IHVybChcIi4uLy4uLy4uL2Fzc2V0cy9pbWcvbG9naW4tYmFja2dyb3VuZC5qcGdcIikgbm8tcmVwZWF0IDEwMCUgMTAwJTtcbn1cblxuLmZpcnN0LWlucHV0IHtcbiAgYm9yZGVyLXJhZGl1czogMTBweCAxMHB4IDAgMDtcbn1cblxuLnNlY29uZC1pbnB1dCB7XG4gIGJvcmRlci1yYWRpdXM6IDAgMCAxMHB4IDEwcHg7XG59XG5cbi50by1idXR0b24ge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGJvdHRvbTogMSU7XG4gIG1hcmdpbi1ib3R0b206IDEwcHg7XG59XG4udG8tYnV0dG9uIHAge1xuICBjb2xvcjogI2RlZGVkZTtcbiAgZm9udC1zaXplOiAxOHB4O1xuICBtYXJnaW4tYm90dG9tOiAwO1xuICBtYXJnaW4tbGVmdDogLTE1cHg7XG59XG4udG8tYnV0dG9uIHAgc3BhbiB7XG4gIGNvbG9yOiAjNDc4RkZDO1xufVxuXG4udG8tdG9wIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDMwJTtcbn1cblxuaDIge1xuICBjb2xvcjogd2hpdGU7XG59Il19 */\";","import { Component, OnInit } from '@angular/core';\n\nimport { AngularFireAuth } from \"angularfire2/auth\";\nimport * as firebase from \"firebase/app\";\nimport { NavController, AlertController, ActionSheetController, PopoverController } from '@ionic/angular';\nimport { AuthService } from '../../services/auth.service';\nimport { Router } from '@angular/router';\n\nimport { Facebook } from '@ionic-native/facebook/ngx';\nimport { Platform } from '@ionic/angular';\n\nimport { GooglePlus } from '@ionic-native/google-plus/ngx';\nimport { ApiService } from '../../services/api.service';\nimport { Storage } from '@ionic/storage';\nimport { PopemailComponent } from '../../components/popemail/popemail.component';\nimport { PushService } from '../../push.service';\nimport { Workers } from '../../models/dto/Workers';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.page.html',\n  styleUrls: ['./login.page.scss'],\n})\nexport class LoginPage implements OnInit {\n\n  GOOGLE: string = 'G';\n  FACEBOOK: string = 'F';\n  EMAIL: string = 'N';\n\n  constructor( private afAuth: AngularFireAuth,\n               private router: Router,\n               private authService: AuthService,\n               private fb: Facebook,\n               private googlePlus: GooglePlus,\n               private platform: Platform,\n               private apiService: ApiService,\n               private alertController: AlertController,\n               private actionSheetController: ActionSheetController,\n               private ionicStorage: Storage,\n               public popoverController: PopoverController,\n               private pushService: PushService ) {\n                if (!pushService.deviceId){\n                  pushService.initialConfiguration();\n                }\n              }\n\n  ngOnInit() {\n  }\n\n  signInWithGoogle( registry: boolean = false ){\n\n    this.apiService.cleanStorage();\n\n    this.googlePlus.login({\n      'webClientId': '51878476605-8ebudbmq2fef0cu0qcepvkfjdgr2229o.apps.googleusercontent.com',\n      'offline': true\n    }).then( res => {\n        //console.log('google signin',res);\n        firebase.auth().signInWithCredential(firebase.auth.GoogleAuthProvider.credential(res.idToken))\n        .then( user => {\n\n          //console.log('firebase auth',user);\n\n          this.apiService.externalExists( user.user.uid, this.GOOGLE)\n          .subscribe( resp => {\n\n            this.authService.cargarUsuario(\n              user.user.displayName,\n              user.user.email,\n              user.user.photoURL,\n              user.user.uid,\n              'google' \n            );\n\n            //existe en la plataforma\n            if ( resp['exists'] ){\n\n              //si la respuesta es verdadera y me quiero registrar\n              if ( registry ){    \n                \n                this.apiService.cleanStorage();\n                \n                this.presentAlert(\n                  `El usuario ya se encuentra registrado en la plataforma.`\n                );\n              } else { //si existe y se quiere loguear que pase adelante\n\n                let auth = {\n                  'entity': 'W',\n                  'type': this.GOOGLE,\n                  'username': user.user.uid,\n                  'deviceId': this.pushService.deviceId\n                };\n\n                this.apiService.postEvent(\n                  auth,\n                  'auth'\n                )\n                .subscribe( (login: any) => {\n                  this.ionicStorage.set(\"token\", login.token);\n                  this.ionicStorage.set(\"userId\", login.clientId);\n                  // this.apiService.saveStorage( 'auth-token', login.token );\n                  // this.apiService.saveStorage( 'userId', login.clientId );\n\n                  this.apiService.getEvent(\n                    `workers/${ login.clientId }`,\n                    login.token\n                  ).subscribe( (usr) => {\n                    const respWorker: Workers = usr as Workers;\n                    this.ionicStorage.set(\"workerObject\", JSON.stringify(respWorker));\n                    // this.apiService.saveStorage( 'workerObject', JSON.stringify(usr) );\n\n                    this.router.navigate(['/home']);\n\n                  }, (err) => {\n                    console.log('Error obteniendo información del usuario');\n                  });\n                },\n                error => {\n                  console.log('error en login', error);\n                });\n              }\n\n            //si no existe en la plataforma\n            } else {\n\n              //si me quiero registrar\n              if ( registry ){\n                this.router.navigate(['/registry']);\n              } else { //si no existe y se quiere loguear\n\n                this.apiService.cleanStorage();\n\n                this.presentAlert(\n                  `El usuario no se encuentra registrado en la plataforma.`\n                );\n              }\n            }\n          }, (err) => {\n            console.log('error en el logueo', err);\n          });\n\n        })\n        .catch( error => console.log(\"Firebase failure: \" + JSON.stringify(error)));\n      }).catch(err => console.error(\"Error: \" + JSON.stringify(err)));\n  }\n\n  signInWithFacebook(registry: boolean = false ){\n    \n    console.log(\"1\");\n\n    this.apiService.cleanStorage();\n\n    console.log(\"2\");\n\n    if (this.platform.is('cordova')) {\n\n      console.log(\"2.5\");\n\n      return this.fb.login(['email', 'public_profile']).then(res => {\n\n        console.log('login',res);\n\n        const facebookCredential = firebase.auth.FacebookAuthProvider.credential(res.authResponse.accessToken);\n        firebase.auth().signInWithCredential(facebookCredential)\n        .then( res => {\n\n          console.log('signInWithCredential',res);\n\n          this.apiService.externalExists( res.user.uid, this.FACEBOOK )\n          .subscribe( resp => {\n\n            console.log('externalExists',resp);\n\n            this.authService.cargarUsuario(\n              res.user.displayName,\n              res.user.email,\n              res.user.photoURL,\n              res.user.uid,\n              'facebook' \n            );\n    \n            //existe en la plataforma\n            if ( resp['exists'] ){\n\n              //si la respuesta es verdadera y me quiero registrar\n              if ( registry ){         \n                \n                this.apiService.cleanStorage();\n                \n                this.presentAlert(\n                  `El usuario ya se encuentra registrado en la plataforma.`\n                );\n              } else { //si existe y se quiere loguear que pase adelante\n\n                let auth = {\n                  'entity': 'W',\n                  'type': this.FACEBOOK,\n                  'username': res.user.uid,\n                  'deviceId': this.pushService.deviceId\n                };\n\n                this.apiService.postEvent(\n                  auth,\n                  'auth'\n                )\n                .subscribe( (login: any) => {\n                  console.log('auth',login);\n                  this.ionicStorage.set(\"token\", login.token);\n                  this.ionicStorage.set(\"userId\", login.clientId);\n                  // this.apiService.saveStorage( 'auth-token', login.token );\n                  // this.apiService.saveStorage( 'userId', login.clientId );\n\n                  this.apiService.getEvent(\n                    `workers/${ login.clientId }`,\n                    login.token\n                  ).subscribe( (usr) => {\n                    this.ionicStorage.set(\"workerObject\", JSON.stringify(usr));\n                    // this.apiService.saveStorage( 'workerObject', JSON.stringify(usr) );\n\n                    this.router.navigate(['/home']);\n                    \n                  }, (err) => {\n                    console.log('Error obteniendo información del usuario');\n                  });\n                },\n                error => {\n                  console.log('error en login', error);\n                });\n              }\n\n            //si no existe en la plataforma\n            } else {\n\n              //si me quiero registrar\n              if ( registry ){\n                console.log(\"no existe en la plataforma, si me quiero registrar con facebook\");\n                this.router.navigate(['/registry']);\n              } else { //si no existe y se quiere loguear\n\n                this.apiService.cleanStorage();\n\n                this.presentAlert(\n                  `El usuario no se encuentra registrado en la plataforma.`\n                );\n              }\n            }\n\n          }, (err) => {\n            console.log('error en el logueo', err);\n          });\n        })\n        .catch( err => console.log('Error en autenticación con facebook', JSON.stringify(err)));\n      }).catch( err => console.log('Err',err));\n    }else{\n      console.log(\"3\");\n      this.afAuth.auth.signInWithPopup( new firebase.auth.FacebookAuthProvider() )\n      .then( res => {\n\n        console.log(\"res\",res);\n\n        this.authService.cargarUsuario(\n          res.user.displayName,\n          res.user.email,\n          res.user.photoURL,\n          res.user.uid,\n          'facebook' \n        );\n\n        this.router.navigate(['/home']);\n\n      })\n      .catch( err => console.log(err));\n    } \n  }\n\n  async presentAlert( message: any ) {\n    const alert = await this.alertController.create({\n      header: 'Inicio de Sesión',\n      subHeader: 'Jobs Exchange',\n      message: message,\n      buttons: ['OK']\n    });\n\n    await alert.present();\n\n  }\n\n  signInWithEmail( form: any ){\n\n    this.apiService.cleanStorage();\n\n    if ( form.value.email === '' ){\n      this.presentAlert(\n        `El email no ha sido ingresado.`\n      );\n    } else if ( form.value.password === '' ) {\n      this.presentAlert(\n        `La contraseña no ha sido ingresada.`\n      );\n    } else {\n      this.apiService.internalExists( form.value.email, form.value.password, this.EMAIL )\n      .subscribe( resp => {\n        if (resp['isValid']){\n          let auth = {\n            'entity': 'W',\n            'type': this.EMAIL,\n            'username': form.value.email,\n            'password': form.value.password,\n            'deviceId': this.pushService.deviceId\n          };\n\n          this.apiService.postEvent(\n            auth,\n            'auth'\n          )\n          .subscribe( (login: any) => {\n\n\n            console.log('login',login);\n\n            this.ionicStorage.set(\"token\", login.token);\n            this.ionicStorage.set(\"userId\", login.clientId);\n\n            this.apiService.getEvent(\n              `workers/${ login.clientId }`,\n              login.token\n            ).subscribe( (usr) => {\n\n              const respWorker: Workers = usr as Workers;\n              \n              this.ionicStorage.set(\"workerObject\", JSON.stringify(respWorker));\n              console.log('workerObject',respWorker);\n\n              this.authService.cargarUsuario(\n                usr['fullName'],\n                form.value.email,\n                usr['profileImage'],\n                \"\",\n                'email' \n              );\n\n              if ( usr['firstLogin'] ){\n                this.router.navigate(['/categories']);\n              } else {\n                if (login.passwordReset) {\n                  this.router.navigate(['/forgot-mail']);\n                } else{\n                  this.router.navigate(['/home']);\n                }\n              }\n            }, (err) => {\n              console.log('Error obteniendo información del usuario');\n            });\n\n          },\n          error => {\n            console.log('error en login', error);\n          });\n\n        } else {\n          this.presentAlert(\n            `Usuario o contraseña inválido.`\n          );\n        }\n      }); \n    }\n  }\n\n  async presentActionSheet() {\n    const actionSheet = await this.actionSheetController.create({\n      header: 'Registrate con nostros',\n      cssClass: 'action-sheets-groups-page',\n      buttons: [{\n        text: 'Utiliza tu correo electrónico',\n        role: 'destructive',\n        icon: 'mail',\n        handler: () => {\n          console.log('E-mail clicked');\n          this.router.navigate(['/registry']);\n        }\n      }, {\n        text: 'Utiliza tu cuenta de facebook',\n        icon: 'logo-facebook',\n        cssClass: 'FacebookIcon',\n        handler: () => {\n          // console.log('Facebook clicked');\n          this.signInWithFacebook( true )\n        }\n      }, {\n        text: 'Utiliza tu cuenta de Google',\n        icon: 'logo-google',\n        cssClass: 'GoogleIcon',\n        handler: () => {\n          // console.log('Google clicked');\n          this.signInWithGoogle( true );\n        }\n      }, {\n        text: 'Cancelar',\n        icon: 'close',\n        role: 'cancel',\n        handler: () => {\n          console.log('Cancel clicked');\n        }\n      }]\n    });\n    await actionSheet.present();\n  }\n\n  async forgotPasswordMail(ev: any) {\n    const popover = await this.popoverController.create({\n      component: PopemailComponent,\n      event: ev,\n      translucent: true\n    });\n    return await popover.present();\n  }\n}\n"]}